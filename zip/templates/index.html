<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zipbob</title>
    <!-- 아이콘 링크 -->
    <script src="https://kit.fontawesome.com/850573ba23.js" crossorigin="anonymous"></script>
    <!--하이차트 링크-->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/series-label.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <script src="https://code.highcharts.com/themes/high-contrast-light.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <!--css,js링크-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="/static/css/zipbob.css">
    <link rel="stylesheet" href="/static/css/chatbot.css">
    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/17119/tablesort.min.js"></script>
    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/17119/tablesort.number.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <!--등락률 테이블 솔트-->
    <script src='tablesort.number.js'></script>
    <script src='tablesort.date.js'></script>
    <script>new Tablesort(document.getElementById('table-id'));</script>
    <!--  챗봇  -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/chat.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- 페이지네이션    -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.2/css/jquery.dataTables.min.css">
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js"></script>

    <!-- 제이쿼리 불러오기 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!-- slick 불러오기 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css">

    <script src=""></script>
    <link rel="stylesheet" href="">


<!--    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">-->
<!--    <link rel="stylesheet" href="http://cdn.datatables.net/1.10.2/css/jquery.dataTables.min.css">-->


</head>

    <body>
    <div class="head">
        <!--챗봇-->
        <div class="chat-bar">
            <button id="chat-button" type="button" class="collapsible_j">Chat bot!
                <i style="color: #fff;" class="fa fa-fw fa-comments-o chat-icon"></i>
            </button>

            <div class="content_j">
                <div class="full-chat-block">
                    <div class="outer-container">
                        <div class="chat-container">
                            <div id="chatbox">
                                <h5 id="chat-timestamp"></h5>
                                <p id="botStarterMessage" class="botText"><span>Loading...</span></p>
                            </div>

                            <div class="chat-bar-input-block">
                                <div id="userInput">
                                    <input id="textInput" class="input-box" type="text" name="msg"
                                           placeholder="엔터(Enter) 키를 눌러 메시지를 보내세요">
                                    <p></p>
                                </div>

                                <div class="chat-bar-icons">
                                    <i style="color: crimson;" class="fa fa-fw fa-heart chat-icon"
                                       onclick="heartButton()"></i>
                                    <i style="color: #333;" class="fa fa-fw fa-send chat-icon"
                                       onclick="sendButton()"></i>
                                </div>
                            </div>
                            <div id="chat-bar-bottom">
                                <p></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--네비바-->
        <div class="containerf">
            <header>
                <nav class="main-menu">
                    <div class="nav-logo">
                        <h2>
                            <img src="/static/image/leaf.png"/>
                            <a href="#">Zipbob</a>
                        </h2>
                    </div>
                    <div class="nav-menu">
                        <ul>
                            <li><a href="#this-week">This Week</a></li>
                            <li><a href="#next-week">Next Week</a></li>
                            <li><a href="#next-table">Next Table</a></li>
                            <li><a href="#recipe">Recipe</a></li>
                            <li><a href="#recipe_table">Recipe Table</a></li>
                            <li><a href="#Recipe_book">Recipe book</a></li>
                        </ul>
                    </div>
                    <div class="nav-sign">
                        <ul>
                            <li onclick="signupToggle()">Join Us</li>
                            <li onclick="loginToggle()">Log In</li>
                        </ul>
                    </div>
                </nav>
            </header>
        </div><!--containerf-->
        <div class="signup-form">
            <div class="form">
                <div class="close" onclick="signupToggle()">&times;</div>
                <div class="text">
                    <h1>Register form</h1>
                </div>
                <form id="reg">
                    <input id="reg_email_75" type="email" tabIndex="0" placeholder="Email ID">
                    <input id="reg_email_chk_24" type="button" name="id_check" value="중복확인" onclick="emailcheck()">
                    <p style="color:red;font-size: 15px;" id="email_label"></p>
                    <input id="reg_name" type="text" tabIndex="0" placeholder="Full Name" onfocusout="namecheck()">
                    <p style="color:red;font-size: 15px;" id="name_label"></p>
                    <input id="reg_pwd" type="password" tabIndex="0" placeholder="Password" onfocusout="pwdcheck()"
                           disabled="disabled">
                    <p style="color:red;font-size: 15px;" id="pwd_label"></p>
                    <input id="reg_pwd_chk" type="password" tabIndex="0" placeholder="Confirm password"
                           onfocusout="dupcheck()" disabled="disabled">
                    <p style="color:red;font-size: 15px;" id="pwd_chk_label"></p>
                    <input id="reg_submit" type="button" value="Register"
                           style="font-size:1rem;font-family: 'Merriweather';" onclick="regi_submit()">
                </form>
            </div>
        </div><!--joinus-->
        <div class="login-form">
            <div class="form">
                <div class="close" onclick="loginToggle()">&times;</div>
                <div class="text">
                    <h1>LogIn</h1>
                </div>
                <form action="#">
                    <input id="login_email" type="email" placeholder="Email ID">
                    <input id="login_password" type="password" placeholder="password">
                    <input id="login_submit" type="button" value="Login" style="font-size:1rem;font-family: 'Merriweather';"
                           onclick="login()">
                </form>
            </div>
        </div><!--login-->
    </div>


    <div class="main">
    <!--콘텐츠 설명 -->
    <div class="content1" id="contents">
        <div class="con-explain">
            <div class="con">
                <i class="fas fa-chart-bar"></i>
                <h2>THIS WEEK</h2>
                <p>이번 주 농수산 품목 가격 동향(상승&하락)</p>
            </div>
            <div class="con">
                <i class="fas fa-chart-line"></i>
                <h2>NEXT WEEK</h2>
                <p>다음 주 농수산물 가격 전망 예측</p>
            </div>
            <div class="con">
                <i class="fas fa-chart-pie"></i>
                <h2>RECIPE</h2>
                <p>예측 결과를 반영한 농수산물 활용 추천 레시피</p>
            </div>
        </div>
    </div>
    <!--이번주동향 -->
    <div class="content2" id="this-week">
        <h1>This Week</h1>
        <p>전체 품목 중에서 이번 주 등락률 상위 2위와 하위 2위를 확인합니다.</p>
        <div class="divider_body2">
            <div class="content-th" id="circle">
                {% for row in this_week.high %}
                <div class="reci">
                    <h2>가격 급락 상품</h2>
                    <img src="/static/image/standard/{{row}}.jpg" class="round1" width="270" height="270"
                         style="margin:40px;"
                         onclick="window.open('https://front.homeplus.co.kr/search?entry=direct&keyword={{row}}')">
                    <p>{{row}}</p>
                </div>
                {% endfor %}
                {% for row in this_week.low %}
                <div class="reci2">
                    <h2>가격 인상 예상 상품</h2>
                    <img src="/static/image/standard/{{row}}.jpg" class="round" width="270" height="270"
                         style="margin:40px;"
                         onclick="window.open('http://www.ssg.com/search.ssg?target=all&query={{row}}')">
                    <p>{{row}}</p>
                </div>
                {% endfor %}

            </div><!--circle-->
        </div><!--divider_b-->
    </div>

    <!--다음주 가격 차트-->
    <div class="content3" id="next-week">
        <h1>Next Week</h1>
        <p>농수산물의 지난주와 이번 주, 예측된 다음 주 가격을 그래프로 확인하세요.</p>
        <div class="divider_body2">
            <div class="nw-chart">
                <figure class="highcharts-figure">
                    <div id="hi_container1"></div>
                    <p class="highcharts-description"></p>
                </figure>
            </div><!--nw-chart-->
        </div><!--divider-nw-->
    </div>

    <!--다음주 전망 테이블-->
    <div class="content2" id="next-table">
        <h1>WHAT'S NEXT</h1>
        <p>모든 품목의 단위, 가격, 등락률을 파악할 수 있는 표입니다. </p>
        <div class="divider_body2">
            <div class="nw-content" id="nw-table">
                <table id="my-table5">
                    <thead>
                        <tr>
                            {% for row in this_week.th %}
                            <th>{{row}}</th>
                            {% endfor %}
                        </tr>
                    </thead>
                    <tbody>
                    {% for row in this_week.tr %}
                        <tr>
                            {% for i in row %}
                            <td>{{i}}</td>
                            {% endfor %}
                        </tr>
                    {% endfor %}
                    </tbody>
                </table><!--my-table for문돌려야-->
            </div><!--nw-table-->
        </div><!--divider_body-->
    </div>

    <!--추천레시피-->
    <div class="content3" id="recipe">
        <h1>Recipe</h1>
        <p>가격과 레시피의 댓글 분석 결과를 반영하여 농수산물을 활용할 수 있는 레시피를 추천합니다.</p>
        <div class="divider_body2">
            <div class="recipe-dis" id="circle3">
                {% for row in recipe_recommend.title %}
                    <div class="reci" style="font-family: 'Merriweather', serif;">
                        <a href="#recipe_table"><img src="/static/image/img/recipe/{{row}}.jpg" class="round3" width="300" height="300"></a>
                        <h3>{{row}}</h3>
                    </div>
                {% endfor %}
            </div><!--circle2-->
        </div><!--divider_2-->

    </div>

    <!--추천레시피 테이블 텝 -->
    <div class="content2" id="recipe_table">
        <h1>Recipe table</h1>
        <p>추천 레시피의 상세 정보를 확인하세요.</p>
        <div class="divider_body2">
            <div class="outer">
                <div class="buttons">
                    {% for row in recipe_recommend.all %}
                    <button>{{row.agricultural}}</button>
                    {% endfor %}
                </div>
                <div class="tabs">
                    {% for row in recipe_recommend.all %}
                    <div class="tab">
                        <br>
                        <h2>{{row.title}}</h2>
                        <br>
                        <div class="slider">
                            {% for r in row.method %}
                            <div class="item">
                                <h2>만들기 #{{r.cnt}}</h2> <h5>{{forloop.counter}} / {{r.tot}}</h5>
                                <img name="recipe" src="/static/image/img/method/{{row.title}}_{{forloop.counter}}.jpg" >
                                <h5>{{r.method}}</h5>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div><!--divider_-->
    </div>


    <!--모든 레시피 검색 -->
    <div class="content3" id="Recipe_book">
        <h1>Recipe Book</h1>
        <p>모든 농수산물 품목별 레시피를 한눈에 확인할 수 있습니다. 원하는 재료의 레시피를 찾아보세요.</p>

        <div class="divider_body2">
            <div class="all-content">
                <div class="container-book">
                    <table id="example" class="table table-striped table-bordered" style="width:100%">
                        <thead>
                        <tr>
                            <th>레시피이름</th>
                            <th>재료</th>
                            <th>레시피</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for row in recipe_table.title %}
                            <tr onclick="modal()">
							{% for r in row %}
                                <td>{{r}}</td>
                            {% endfor %}
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                    <div style="display:flex;justify-content:space-around;">
                      <button> 이전 페이지 </button>
                        <ul style="display:flex;justify-content:center;list-style:none;" >
                            <li style="background:black;color:#fff;width:10px;margin:0 10px;">1</li>
                            <li style="width:10px;margin:0 10px;">2</li>
                            <li style="width:10px;margin:0 10px;">3</li>
                            <li style="width:10px;margin:0 10px;">4</li>
                            <li style="width:10px;margin:0 10px;">5</li>
                            <li style="width:10px;margin:0 10px;">6</li>
                            <li style="width:10px;margin:0 10px;">7</li>
                            <li style="width:10px;margin:0 10px;">8</li>
                            <li style="width:10px;margin:0 10px;">9</li>
                            <li style="width:10px;margin:0 10px;">10</li>
                        </ul>
                      <button> 다음 페이지 </button>
                    </div>

                </div>
            </div>
        </div><!--divider_body4-->
    </div><!--Recipe_book-->

        <!--연락처부분-->
            <div class="footer">
                <ul>
                    <li>
                        <h1 class="logo">
                            <i class="fa fa-github w3-hover-opacity"></i>
                            <a href="https://github.com/ginttone/Zipbob" title="깃헙주소로이동" target='_blank'>Zipbob
                                github</a>
                        </h1>
                    </li>
                    <li>
                        <div class="divider-info">
                            <h3>Service Center</h3>
                            <h2>P.H 1234-5678 Weekdays 9am - 6pm </h2>
                        </div>
                        <div class="divider-ban">

                            <div id="layout">
                                <b id="left" style="color:white;">&lt;</b>
                                <div id="banner">
                                    <a class="w3-button" href="">
                                        <img src="./static/image/roll_img_6.jpg" width="200" height="100">
                                    </a>
                                    <a class="w3-button" href="http://www.ssg.com">
                                        <img src="./static/image/roll_img_1.jpg" width="200" height="100">
                                    </a>
                                    <a class="w3-button" href="https://www.homeplus.co.kr">
                                        <img src="./static/image/roll_img_2.jpg" width="200" height="100"
                                             class="firstImg">
                                    </a>
                                    <a class="w3-button" href="https://www.coupang.com">
                                        <img src="./static/image/roll_img_3.jpg" width="200" height="100">
                                    </a>
                                    <a class="w3-button" href="https://www.lottesuper.co.kr">
                                        <img src="./static/image/roll_img_4.jpg" width="200" height="100">
                                    </a>
                                    <a class="w3-button" href="https://www.gsfresh.com">
                                        <img src="./static/image/roll_img_5.jpg" width="200" height="100">
                                    </a>
                                </div>
                                <b id="right" style="color:white;">&gt;</b>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>

            <script src="/static/js/index.js"></script>
            <script>
                $(document).ready(function(){
                var i=$("#banner img:first-child").attr('src').substr(-5,1);
                /****** 처음부터 자동 *****/
                var rolling=setInterval(frame, 2500);
                function frame() {

                 $("#banner img").removeClass("firstImg").animate({left:'-=180px'});
                 i++;
                 if( i==7) {i=1}
                 var appendImg="<img src='./static/image/roll_img_"+i+".jpg'>";
                 $("#banner img:nth-child(2)").addClass("firstImg");
                 $("#banner").append(appendImg);
                 if( $("#banner img:first-child").position().left<=-200 ) {  $("#banner img:first-child").remove()  }
                }

                /****** 왼쪽버튼 클릭시 ******/
                $("#left").click(function(){
                clearInterval();
                $("#banner img").removeClass("firstImg").animate({left:'-=180px'});
                i++;
                if( i==7) {i=1}
                var appendImg="<img src='./static/image/roll_img_"+i+".jpg'>";
                $("#banner img:nth-child(2)").addClass("firstImg");
                $("#banner").append(appendImg);
                if( $("#banner img:first-child").position().left<=-200 ) {  $("#banner img:first-child").remove()  }
                });

                /****** 오른쪽버튼 클릭시 ******/
                $("#right").click(function(){
                $("#banner img").removeClass("firstImg").animate({left:'+=180px'});
                i=i-1;
                if( i==0) {i=7}
                var prependImg="<img src='./static/image/roll_img_"+i+".jpg'>";
                $("#banner img:nth-child(2)").addClass("firstImg");
                $("#banner").prepend(prependImg);
                if( $("#banner img:last-child").position().left>=900 ) {  $("#banner img:last-child").remove()  }
                });
                });

                /*여기가 슬라이드 이미지*/

                $('button').click(function(){
                var $this = $(this);
                var index = $this.index();

                $this.addClass('active');
                $this.siblings('button.active').removeClass('active');

                var $outer = $this.closest('.outer');
                var $current = $outer.find(' > .tabs > .tab.active');
                var $post = $outer.find(' > .tabs > .tab').eq(index);

                $current.removeClass('active');
                $post.addClass('active');
                // 위의 코드는 탭메뉴 코드입니다.

                $('.slider').slick('setPosition');
                // 탭 페이지 안에서 slick 사용시 – slick이 첫페이지에 있지 않으면 slick의 첫번째 이미지가 보이지 않고 2번째 부터 도는것을 확인 할 수 있다. 해당 문제는 탭이 active가 된 후 그 페이지에 slick이 있다면 = slick의 위치를 수동으로 새로 고쳐줘야 한다.
            });

            // 기존 처음의 slick 적용
            $('.slider').slick({
                slidesToShow: 2,
                dots: true,
            });


            </script>

<!--    <script type="text/javascript"  src="http://cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js"></script>-->
<!--    <script type="text/javascript"  src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>-->
    </body>
</html>
